{% extends "studentNavbar.html" %}
{% block content %}
<div class="container mt-5">
  <h2 class="mb-4">Leaves History</h2>
  <table class="table">
      <thead>
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Teacher</th>
            <th>Leave Days</th>
            <th>Requested At</th>
            <th>Teacher Approval</th>
            <th>Advisor Approval</th>
            <th>HOD Approval</th>
            <th>Final Status</th>
            <th>Medical Certificate</th>
        </tr>
      </thead>
      <tbody>
          {% for i in range(leaves|length) %}
          <tr>
              <form>
                  <td>
                    <input type="text" readonly class="form-control" name="studentId" id="studentId" value="{{ leaves[i].studentId }}">
                  </td>
                  <td>
                      <input type="text" readonly class="form-control" name="studentName" id="studentName" value="{{ leaves[i].studentName }}">
                  </td>
                  <td>
                      <input type="text" readonly class="form-control" name="teacherName" id="teacherName" value="{{ leaves[i].teacherName }}">
                  </td>
                  <td>
                      <input type="text" readonly class="form-control" name="numDays" id="numDays" value="{{ leaves[i].numDays }}">
                  </td>
                  <td>
                      <input type="text" readonly class="form-control" name="requestedAt" id="requestedAt" value="{{ leaves[i].requestedAt }}" />
                  </td>
                  <td>
                    <input type="text" readonly class="form-control" name="teacherApproval" id="teacherApproval" value="{{ leaves[i].approved_by_teacher }}">
                </td>
                <td>
                    <input type="text" readonly class="form-control" name="advisorApproval" id="advisorApproval" value="{{ leaves[i].approved_by_advisor }}">
                </td>
                <td>
                    <input type="text" readonly class="form-control" name="hodApproval" id="hodApproval" value="{{ leaves[i].approved_by_hod }}">
                </td>
                <td>
                    <input type="text" readonly class="form-control" name="finalStatus" id="finalStatus" value="{{ leaves[i].final_status }}" />
                </td>
                <td>
                    {% if leaves[i].medicalCertificate %}
                    <a href="{{ url_for('download_certificate', certificate_id=leaves[i].id) }}">Download Certificate</a>
                    {% else %}
                    No Certificate
                    {% endif %}
                </td>
              </form>
          </tr>
          {% endfor %}
      </tbody>
  </table>
</div>
{% endblock %}
